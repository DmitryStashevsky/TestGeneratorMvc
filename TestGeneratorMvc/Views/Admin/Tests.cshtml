@{
    ViewBag.Title = "Tests";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div ng-controller="TestController">
    <h1 class="page-header">Tests</h1>
    <h2 class="sub-header">Tests count - {{testsCount}}</h2>
    <div ng-repeat="test in tests">
        <div class="panel panel-default">
            <div class="panel-heading">
                <span> {{test.Name}}</span>
            </div>
            <div class="panel-body">
                <p>Count of questions: {{test.CountOfQuestions}}</p>
                <p>Count of answers: {{test.CountOfAnswers}}</p>
                <p>Count of right answers: {{test.CountOfRightAnswers}}</p>
            </div>
            <div class="panel-footer">
                <button type="button" class="btn btn-default" data-toggle="collapse" data-target="#additionalInfo{{$index}}" >Show additional info</button>
                <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#questions{{$index}}" ng-click="getQuestionsForTest($index)">Show questions</button>
                <button type="button" class="btn btn-warning"/>Edit</button>
                <button type="button" class="btn btn-danger ">Delete</button>
            </div>
        </div>
        <div class="panel panel-default collapse" id="additionalInfo{{$index}}">
            <div class="panel-heading">
                <span>Additional info:</span>
            </div>
            <div class="panel-body">
            </div>
        </div>
        <div class="panel panel-info collapse" id="questions{{$index}}">
            <div class="panel-heading">
                <span>Questions:</span>
            </div>
            <div class="panel-body">
                <p ng-repeat="questions in test.questions">{{$index + 1}}) {{questions.Text}}</p>
            </div>
        </div>
    </div>
</div>